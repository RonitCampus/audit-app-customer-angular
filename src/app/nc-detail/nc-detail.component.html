<div [ngBusy]="busy"></div>

<div class="container" *ngIf="getNcStatus(auditInfo?.ncStatus)">
  <div class="row">
    <div class="col-sm-6 col-sm-offset-3">
      <form class="form-horizontal well formborder" (ngSubmit)="formSubmit(userNcForm)" #userNcForm="ngForm">
        <fieldset>

          <legend>Non Compliant Form</legend>

          <div class="form-group form-group-sm" hidden>
            <label for="textinput" class="control-label col-sm-3">Nc Id</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" [ngModel]="auditInfo?.ncId" placeholder="Nc Id" name="ncId" readonly>

            </div>
          </div>

          <div class="form-group form-group-sm" hidden>
            <label for="textinput" class="control-label col-sm-3">Audit Id</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" [ngModel]="auditInfo?.ncAuditId" placeholder="Audit Id" name="auditId" readonly>

            </div>
          </div>

          <div class="form-group form-group-sm">
            <label for="projectName" class="control-label col-sm-3">Project Name</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" [ngModel]="auditInfo?.ncProjectName" placeholder="Project Name" name="ncProjectName"
                readonly>

            </div>
          </div>

          <div class="form-group form-group-sm">
            <label for="raisedBy" class="control-label col-sm-3">Raised By</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" [ngModel]="auditInfo?.ncRaisedBy" placeholder="Raised By" name="ncRaisedBy" readonly>

            </div>
          </div>

          <div class="form-group form-group-sm">
            <label for="textinput" class="control-label col-sm-3">Expected close date</label>
            <div class="col-sm-9">
              <input type="date" class="form-control" [ngModel]="auditInfo?.ncExpectedCloseDate" placeholder="dd-mm-yyy" name="ncExpectedCloseDate"
                readonly>

            </div>
          </div>

          <div class="form-group form-group-sm">
            <label for="assignedto" class="control-label col-sm-3">Assigned to</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" [ngModel]="auditInfo?.ncAssignedTo" placeholder="Assigned to" name="ncAssignedTo" readonly>

            </div>
          </div>

          <div class="form-group form-group-sm" hidden>
            <label for="textinput" class="control-label col-sm-3">Status</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" [ngModel]="auditInfo?.ncStatus" placeholder="" name="ncStatus" readonly>

            </div>
          </div>

          <div class="form-group form-group-sm">
            <label for="textinput" class="control-label col-sm-3">Non Compliant Remark</label>
            <div class="col-sm-9">
              <textarea class="form-control" [ngModel]="auditInfo?.ncDescription" name="textarea" rows="5" name="ncDescription" readonly></textarea>
            </div>
          </div>

          <div class="form-group form-group-sm">
            <label for="resDate" class="control-label col-sm-3">Resolution Date</label>
            <div class="col-sm-9">
              <input class="form-control" placeholder="dd-mm-yyyy" name="resolutionDate" [value]="todaysDate" readonly>
            </div>
          </div>

          <div class="form-group">
            <label class="control-label col-sm-3" for="textarea">Resolution</label>
            <div class="col-sm-9">
              <textarea class="form-control" name="textarea" rows="5" name="resolutionFromAuditee" required ngModel></textarea>
            </div>
          </div>

          <hr>

          <div class="form-group form-group-sm">
            <div class="col-sm-12">
              <button type="Submit" class="btn btn-success pull-right" [disabled]="! userNcForm.form.valid">Submit</button>
            </div>
          </div>

        </fieldset>
      </form>
    </div>
  </div>
<!--</div>-->

<div class="container" *ngIf="auditInfo?.ncStatus===302">
  <div class="well text-center">
    <h2> You have Submitted the Non Compliant Form for
         Project " {{auditInfo?.projectName}} " <br>
      and its been Pending with the Auditor " <em>{{auditInfo?.raisedBy}}</em> " for Closure.</h2>
  </div>
</div>


<div class="container" *ngIf="auditInfo?.ncStatus===303">
  <div class="well text-center">
    <h2> Non Compliant Form for Project " {{auditInfo?.projectName}} "<br>
      has been closed by the Auditor " <em> {{auditInfo?.raisedBy}} </em> ".</h2>
  </div>
</div>

